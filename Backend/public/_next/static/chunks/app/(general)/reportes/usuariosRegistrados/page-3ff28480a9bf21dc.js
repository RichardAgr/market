(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{35186:function(e,t,r){Promise.resolve().then(r.bind(r,87402))},50898:function(e,t,r){"use strict";var a=r(60930);r(59567),t.Z=(e,t,r,i)=>{let n=new a.default,s=[];i.forEach(e=>{let t=Object.values(e);t=t.slice(1),s.push(t)});let l=15,o=15;n.text("UrbanMarket - "+e.title,o,l),l+=12,n.setFontSize(12),t.map(e=>{n.text(e.name+": "+e.value,o,l),o>145?(o=15,l+=10):o+=65}),l+=10,n.autoTable(r,s,{startY:l}),n.save(e.fileName+".pdf")}},87402:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return page}});var a=r(57437),i=r(90500),n=r(2265),s=r(88938),l=r(20879),o=r(49050),d=r(96507),c=r(73701),u=r(39279),g=r(30666),h=r(15795),p=r(19464),m=r(98489),x=r(66988),f=r(95781),Z=r(92226),usuariosRegistrados_enhancedTableHead=e=>{let{order:t,orderBy:r,onRequestSort:i}=e,createSortHandler=e=>t=>{i(t,e)};return(0,a.jsx)(x.Z,{children:(0,a.jsx)(m.Z,{children:[{id:"name",numeric:!1,disablePadding:!0,label:"Nombre"},{id:"address",numeric:!1,disablePadding:!1,label:"Direcci\xf3n"},{id:"email",numeric:!1,disablePadding:!1,label:"E-mail"},{id:"phone",numeric:!1,disablePadding:!1,label:"Celular"},{id:"created_at",numeric:!0,disablePadding:!1,label:"Fecha de Registro"}].map(e=>(0,a.jsx)(g.Z,{align:e.numeric?"center":"left",padding:"normal",sortDirection:r===e.id&&t,children:(0,a.jsxs)(f.Z,{active:r===e.id,direction:r===e.id?t:"asc",onClick:createSortHandler(e.id),children:[e.label,r===e.id?(0,a.jsx)(d.Z,{component:"span",sx:Z.Z,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id))})})},b=r(34989),j=r(43226),v=r(29872),P=r(40182),S=r(14647),w=r(74548),R=r.n(w),C=r(28874),D=r(50898),_=r(31601),page=()=>{let[e,t]=(0,n.useState)("desc"),[r,x]=(0,n.useState)("name"),[f,Z]=(0,n.useState)(0),[w,k]=(0,n.useState)(!1),[y,E]=(0,n.useState)(10),[F,H]=(0,n.useState)([]),[N,Y]=(0,n.useState)([]),[T,A]=(0,n.useState)(!1);(0,n.useEffect)(()=>{getData()},[]);let getData=async()=>{let e=await i.Z.get(_.b.userReportData);if(200==e.status){console.log(e.data);let t=await e.data;Y(t),H(t)}},clientSearch=e=>{H(""===e?N:N.filter(t=>(t.name.toLowerCase()+" "+t.email.toLowerCase()).includes(e.toLowerCase())))},M=(0,n.useMemo)(()=>(function(e,t){let r=e.map((e,t)=>[e,t]);return r.sort((e,r)=>{let a=t(e[0],r[0]);return 0!==a?a:e[1]-r[1]}),r.map(e=>e[0])})(F,"desc"===e?(e,t)=>descendingComparator(e,t,r):(e,t)=>-descendingComparator(e,t,r)).slice(f*y,f*y+y),[F,e,r,f,y]),z=f>0?Math.max(0,(1+f)*y-F.length):0;function descendingComparator(e,t,r){return t[r]<e[r]?1:t[r]>e[r]?-1:0}return(0,a.jsx)(s.Z,{style:{marginTop:"10vh"},children:(0,a.jsxs)(d.Z,{sx:{width:"100%"},children:[(0,a.jsxs)(v.Z,{sx:{width:"100%",mb:2},children:[(0,a.jsx)(j.Z,{sx:{flex:"1 1 100%",p:2},variant:"h5",id:"tableTitle",component:"div",children:"Informe de usuarios registrados"}),(0,a.jsxs)(b.Z,{children:[(0,a.jsx)(C.ZP,{container:!0,spacing:2}),(0,a.jsx)(C.ZP,{item:!0,xs:6,children:(0,a.jsx)(l.Z,{sx:{width:"100%"},id:"clientSearch",label:"Buscar cliente...",variant:"outlined",size:"small",onKeyUp:e=>clientSearch(e.target.value)})})]}),(0,a.jsx)(h.Z,{children:(0,a.jsxs)(c.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:w?"small":"medium",stickyHeader:!0,children:[(0,a.jsx)(usuariosRegistrados_enhancedTableHead,{order:e,orderBy:r,onRequestSort:(a,i)=>{let n=r===i&&"asc"===e;t(n?"desc":"asc"),x(i)}}),(0,a.jsxs)(u.Z,{children:[M.map((e,t)=>(0,a.jsxs)(m.Z,{hover:!0,tabIndex:-1,children:[(0,a.jsx)(g.Z,{align:"left",children:e.name}),(0,a.jsx)(g.Z,{align:"left",children:e.address}),(0,a.jsx)(g.Z,{align:"left",children:e.email}),(0,a.jsx)(g.Z,{align:"right",children:e.phone}),(0,a.jsx)(g.Z,{align:"right",children:R()(e.created_at).format("DD/MM/YYYY HH:mm")})]},e.id)),z>0&&(0,a.jsx)(m.Z,{style:{height:(w?33:53)*z},children:(0,a.jsx)(g.Z,{colSpan:6})})]})]})}),(0,a.jsx)(p.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:F.length,rowsPerPage:y,page:f,onPageChange:(e,t)=>{Z(t)},onRowsPerPageChange:e=>{E(parseInt(e.target.value,10)),Z(0)},labelRowsPerPage:"Clientes por pagina"})]}),(0,a.jsxs)(d.Z,{sx:{width:"100%"},children:[(0,a.jsx)(P.Z,{control:(0,a.jsx)(S.Z,{checked:w,onChange:e=>{k(e.target.checked)}}),label:"Espaciado de filas denso",style:{width:"88%"}}),(0,a.jsx)(o.Z,{variant:"outlined",onClick:()=>{let e=F.map(e=>[e.id,e.name,e.address,e.email,e.phone,e.created_at]);(0,D.Z)({title:"Reporte de usuarios registrados",fileName:"reporte_usuarios"},[{name:" ",value:" "},{name:" ",value:" "}],["Nombre","Direcci\xf3n","E-mail","Celular","Fecha de Registro"],e)},children:"Generar PDF"})]})]})})}},90500:function(e,t,r){"use strict";var a=r(92173);let i=a.Z.create({baseURL:"http://localhost:8000/api"});i.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&e.headers&&(e.headers.Authorization=t?"Bearer ".concat(t):""),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>Promise.reject(e)),t.Z=i},31601:function(e,t,r){"use strict";r.d(t,{b:function(){return a}});let a={hello:"/hello",user:"/user",profile:"/profile",logout:"/logout",profile:"/profile",reports:"/reportes",clientReportData:"/reporting/user/",userReportData:"/reporting/user-register/",userDelete:"/reporting/user/",inventaryReport:"/reportes/inventarios",inventaryReportData:"/reporting/inventary/",saleReportData:"/reporting/sale/",login:"/login",logout:"/logout",addFAQ:"/agregar-pregunta",editFAQ:"/editar-pregunta/",deleteFAQ:"/",FAQS:"/faqs",ordersYear:"reporting/ordersYears",economicReport:"reporting/economicReport"}}},function(e){e.O(0,[505,226,886,429,997,173,711,874,735,133,971,472,744],function(){return e(e.s=35186)}),_N_E=e.O()}]);
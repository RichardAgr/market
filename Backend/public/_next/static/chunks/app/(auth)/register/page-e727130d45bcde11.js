(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{42515:function(e,r,a){Promise.resolve().then(a.bind(a,24670))},24670:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return RegisterPage}});var t=a(57437),s=a(2265);let n={email:"Ingrese un email v\xe1lido",password:"Ingrese al menos 8 caracteres",repeatPassword:"Las contrase\xf1as deben coincidir",required:"Este campo es requerido"};var o=a(35691);let i=(0,o.Ry)({name:(0,o.Z_)().required(n.required),email:(0,o.Z_)().email(n.email).required(n.required),password:(0,o.Z_)().min(8,n.password).required(n.required),repeatPassword:(0,o.Z_)().oneOf([(0,o.iH)("password")],n.repeatPassword).required(n.required)});var l=a(96507),d=a(43226),u=a(20879),g=a(49050),c=a(90500),p=a(39350);function BackdropRegister(e){let{handleClose:r,open:a}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(p.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:a,onClick:r})})}var m=a(22079),h=a(91797),x=a(26337),v=a(64173),f=a(42834);function AlertDialogRegister(e){let{handleClose:r,text:a,openDialog:s}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(m.Z,{open:s,onClose:r,children:[(0,t.jsx)(h.Z,{id:"alert-dialog-title",children:"Registro de Usuario"}),(0,t.jsx)(x.Z,{children:(0,t.jsx)(v.Z,{id:"alert-dialog-description",children:a})}),(0,t.jsx)(f.Z,{children:(0,t.jsx)(g.Z,{onClick:r,children:"Ok"})})]})})}let w={success:"Usuario registrado con \xe9xito"};var C=a(31601),j=a(24033);function RegisterPage(){let e=(0,j.useRouter)(),r={name:!1,nameMessage:"",email:!1,emailMessage:"",password:!1,passwordMessage:"",repeatPassword:!1,repeatPasswordMessage:""},[a,n]=(0,s.useState)({name:"",email:"",password:"",repeatPassword:""}),[o,p]=(0,s.useState)(r),[m,h]=(0,s.useState)(!1),[x,v]=(0,s.useState)(),[f,Z]=(0,s.useState)(!1),handleCloseBackdrop=()=>{Z(!1)},handleChange=e=>{validateField(e),n({...a,[e.target.name]:e.target.value})},validateField=e=>{let r={...a,[e.target.name]:e.target.value};i.validateAt(e.target.name,r).then(()=>{p({...o,[e.target.name]:!1,[e.target.name+"Message"]:""})}).catch(r=>{p({...o,[e.target.name]:!0,[e.target.name+"Message"]:r.message})})},validateAll=()=>{try{i.validateSync(a,{abortEarly:!1}),Z(!0),sendData()}catch(a){let e={...r};a.inner.forEach(r=>{e[r.path]=!0,e[r.path+"Message"]=r.message}),p(e)}},sendData=()=>{c.Z.post(C.b.user,a).then(()=>{handleCloseBackdrop(),v(w.success)}).catch(e=>{v(e.response.data.errors.email[0])}).finally(()=>{handleCloseBackdrop(),h(!0)})};return(0,t.jsxs)(l.Z,{component:"form",onSubmit:e=>{e.preventDefault(),validateAll()},sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",backgroundColor:"white",minHeight:"100vh",paddingTop:"10%",minWidth:"100vw"},children:[(0,t.jsx)(d.Z,{variant:"h3",sx:{color:"black",marginBottom:"2rem"},children:"Registro de Cuenta"}),(0,t.jsx)(u.Z,{id:"registerName",name:"name",label:"Nombre",variant:"outlined",margin:"dense",helperText:o.nameMessage,error:o.name,value:a.name,onChange:handleChange}),(0,t.jsx)(u.Z,{id:"registerEmail",name:"email",label:"Email",variant:"outlined",margin:"normal",helperText:o.emailMessage,type:"email",onChange:handleChange,error:o.email,value:a.email}),(0,t.jsx)(u.Z,{id:"registerPassword",name:"password",label:"Contrase\xf1a",variant:"outlined",margin:"normal",type:"password",helperText:o.passwordMessage,error:o.password,onChange:handleChange,value:a.password}),(0,t.jsx)(u.Z,{id:"registerRepeatPassword",name:"repeatPassword",label:"Repetir Contrase\xf1a",variant:"outlined",margin:"normal",helperText:o.repeatPasswordMessage,type:"password",onChange:handleChange,error:o.repeatPassword,value:a.repeatPassword}),(0,t.jsxs)(d.Z,{variant:"body1",sx:{color:"#E4D8D8",margin:"1rem"},children:["Ya tienes una cuenta?",(0,t.jsx)(g.Z,{variant:"text",onClick:()=>{e.push("/login")},sx:{"&:hover":{backgroundColor:"white"}},children:"Click aqui"})]}),(0,t.jsx)(AlertDialogRegister,{handleClose:()=>{h(!1),v(""),x===w.success&&e.push("/login")},openDialog:m,text:x}),(0,t.jsx)(BackdropRegister,{handleClose:handleCloseBackdrop,open:f}),(0,t.jsx)(g.Z,{variant:"contained",type:"submit",sx:{backgroundColor:"#6788C3"},children:"Continuar"})]})}},90500:function(e,r,a){"use strict";var t=a(92173);let s=t.Z.create({baseURL:"http://urbanmarket.tis.cs.umss.edu.bo/api"});s.interceptors.request.use(e=>{let r=localStorage.getItem("token");return r&&e.headers&&(e.headers.Authorization=r?"Bearer ".concat(r):""),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>Promise.reject(e)),r.Z=s},31601:function(e,r,a){"use strict";a.d(r,{b:function(){return t}});let t={hello:"/hello",user:"/user",profile:"/profile",logout:"/logout",profile:"/profile",reports:"/reportes",clientReportData:"/reporting/user/",userReportData:"/reporting/user-register/",userDelete:"/reporting/user/",inventaryReport:"/reportes/inventarios",inventaryReportData:"/reporting/inventary/",saleReportData:"/reporting/sale/",login:"/login",logout:"/logout",addFAQ:"/agregar-pregunta",editFAQ:"/editar-pregunta/",deleteFAQ:"/",FAQS:"/faqs",ordersYear:"reporting/ordersYears",economicReport:"reporting/economicReport"}}},function(e){e.O(0,[226,886,429,997,173,711,479,25,971,472,744],function(){return e(e.s=42515)}),_N_E=e.O()}]);